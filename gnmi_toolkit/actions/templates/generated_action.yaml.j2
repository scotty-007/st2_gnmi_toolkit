# AUTO-GENERATED ACTION - DO NOT EDIT MANUALLY
# Generated: {{ generated_timestamp }}
# Device: {{ device }}
# Module: {{ module }}
# Container: {{ container_path }}
name: {{ action_name }}
pack: {{ pack_name }}
runner_type: python-script
description: "{{ description }}"
enabled: true
entry_point: {{ action_name }}.py
parameters:
  device:
    type: string
    required: true
    description: "Device hostname or IP address"
  
  operation:
    type: string
    required: true
    enum:
{% for op in supported_operations %}
      - {{ op }}
{% endfor %}
    default: get
    description: "gNMI operation to perform{% if not is_writable %} (read-only container: only 'get' supported){% endif %}"
  
  gnmi_port:
    type: integer
    required: false
    default: 6030
    description: "gNMI port (default: 6030 for Arista, 57400 for others)"
    minimum: 1
    maximum: 65535
  
  gnmi_username:
    type: string
    required: false
    default: "admin"
    description: "gNMI username (default: admin)"
  
  gnmi_password:
    type: string
    required: false
    default: "admin"
    description: "gNMI password (default: admin)"
    secret: true
  
  gnmi_insecure:
    type: boolean
    required: false
    default: true
    description: "Skip TLS certificate verification (default: true)"
{% if has_list_keys %}
  
  # ===== LIST KEY PARAMETERS (OPTIONAL for querying all list elements) =====
{% for key in list_keys %}
  {{ key.name }}:
    type: {{ 'integer' if key.type in ['uint8', 'uint16', 'uint32', 'uint64', 'int8', 'int16', 'int32', 'int64'] else 'string' }}
    required: false
    description: "{{ key.name.replace('_', ' ').title() }} (list key - optional: omit to query all {{ key.name }}s)"
{% if key.type_info.get('enum') %}
    enum:
{% for value in key.type_info.enum %}
      - {{ value }}
{% endfor %}
{% endif %}
{% if key.type_info.get('range') and key.type_info.range.get('min') is not none %}
    minimum: {{ key.type_info.range.min }}
{% endif %}
{% if key.type_info.get('range') and key.type_info.range.get('max') is not none %}
    maximum: {{ key.type_info.range.max }}
{% endif %}
{% if key.type_info.get('patterns') %}
    pattern: "{{ key.type_info.patterns[0] | replace('\\', '\\\\') | replace('"', '\\"') }}"
{% endif %}
{% endfor %}
  
  # ===== CONFIGURATION PARAMETERS (OPTIONAL) =====
{% endif %}
{% for param_name, param_spec in parameters.items() %}
  
  {{ param_name }}:
    type: {{ param_spec.type }}
{% if param_spec.required is defined %}
    required: {{ param_spec.required | lower }}
{% endif %}
{% if param_spec.description is defined %}
    description: "{{ param_spec.description | replace('"', '\\"') }}"
{% endif %}
{% if param_spec.default is defined %}
{% if param_spec.type == 'boolean' %}
    default: {{ param_spec.default | lower }}
{% elif param_spec.type == 'string' %}
    default: "{{ param_spec.default }}"
{% else %}
    default: {{ param_spec.default }}
{% endif %}
{% endif %}
{% if param_spec.enum is defined %}
    enum:
{% for value in param_spec.enum %}
      - {{ value }}
{% endfor %}
{% endif %}
{% if param_spec.minimum is defined %}
    minimum: {{ param_spec.minimum }}
{% endif %}
{% if param_spec.maximum is defined %}
    maximum: {{ param_spec.maximum }}
{% endif %}
{% if param_spec.pattern is defined %}
    pattern: "{{ param_spec.pattern | replace('\\', '\\\\') | replace('"', '\\"') }}"
{% endif %}
{% endfor %}